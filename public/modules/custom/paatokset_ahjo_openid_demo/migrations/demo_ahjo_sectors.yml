langcode: en
status: true
dependencies:
  enforced:
    module:
      - paatokset_ahjo_openid
      - paatokset_ahjo_openid_demo
id: demo_ahjo_sectors
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - ahjo_demo
migration_group: ahjo_demo
label: 'Ahjo API Demo - Sectors'
source:
  plugin: url
  track_changes: true
  data_fetcher_plugin: http
  data_parser_plugin: json
  authentication:
    plugin: ahjo_openid_token
  urls:
    - 'https://ahjohyte.hel.fi:9802/ahjorest/v1/sectors'
  item_selector: sectors
  fields:
    -
      name: title
      label: Title
      selector: Sector
    -
      name: sector_id
      label: Sector ID
      selector: SectorID
    -
      name: pending_cases
      label: Pending cases
      selector: PendingCases
    -
      name: links
      label: Links
      selector: links
  ids:
    unique_id:
      type: string
process:
  type:
    plugin: default_value
    default_value: demo_ahjo_sectors
  title: title
  field_sector_id: sector_id
  field_pending_cases: pending_cases
  field_sector_url:
    plugin: extract
    source: links
    index:
      - 0
      - href
    default: null
destination:
  plugin: 'entity:node'
migration_dependencies: {  }
