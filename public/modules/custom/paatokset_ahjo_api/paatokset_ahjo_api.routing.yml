paatokset_ahjo_api.ahjo_update_form:
  path: 'admin/ahjo/update-entity/{node}'
  defaults:
    _title: 'Update ahjo entity'
    _form: '\Drupal\paatokset_ahjo_api\AhjoAdmin\UpdateForm'
  requirements:
    _permission: 'administer paatokset'
    node: \d+
  options:
    parameters:
      node:
        type: entity:node

paatokset_ahjo_api.default_texts:
  path: '/admin/config/system/default-texts'
  defaults:
    _form: \Drupal\paatokset_ahjo_api\Form\DefaultTextSettingsForm
    _title: 'Default text element settings.'
  requirements:
    _permission: 'administer paatokset'

paatokset_ahjo_api.policymaker_labels:
  path: '/admin/config/system/policymaker-labels'
  defaults:
    _form: \Drupal\paatokset_ahjo_api\Form\PolicymakerLabelSettingsForm
    _title: 'Translate policymaker labels.'
  requirements:
    _permission: 'administer paatokset'

paatokset_ahjo_api.disallowed_prefixes:
  path: '/admin/config/system/disallowed-decision-prefices'
  defaults:
    _form: \Drupal\paatokset_ahjo_api\Form\DisallowedDecisionsPrefixesForm
    _title: 'Disallowed Decision prefixes.'
  requirements:
    _permission: 'administer paatokset'

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
paatokset_case.fi:
  path: 'asia/{case}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::case'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::caseTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      case:
        type: case_or_decision

paatokset_case.sv:
  path: 'arende/{case}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::case'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::caseTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      case:
        type: case_or_decision

paatokset_case.en:
  path: 'case/{case}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::case'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::caseTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      case:
        type: case_or_decision

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
paatokset_decision.fi:
  path: 'asia/{case_id}/{decision}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decision'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decisionTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      decision:
        type: decision

paatokset_decision.sv:
  path: 'arende/{case_id}/{decision}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decision'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decisionTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      decision:
        type: decision

paatokset_decision.en:
  path: 'case/{case_id}/{decision}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decision'
    _title_callback: '\Drupal\paatokset_ahjo_api\Controller\CaseNodeViewController::decisionTitle'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      decision:
        type: decision

ahjo_meeting_endpoint:
  path: 'ahjo_api/meetings'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\MeetingController::query'
  requirements:
    _access: 'TRUE'

paatokset_ahjo_api.subscriber:
  path: 'ahjo_api/subscriber/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\AhjoSubscriberController::callback'
  requirements:
    _permission: 'access content'
  methods: [GET, POST]

paatokset_ahjo_api.queue_list:
  path: 'ahjo_api/callback-queue/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\AhjoSubscriberController::listQueue'
    id: all
  requirements:
    _permission: 'administer paatokset'

paatokset_ahjo_api.case_ajax:
  path: 'ahjo_api/case/{case_id}/{decision}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\CaseController::loadDecision'
  requirements:
    _access: 'TRUE'
  options:
    parameters:
      decision:
        type: decision

paatokset_ahjo_api.org_chart:
  path: 'ahjo_api/org-chart/{ahjo_organization}/{steps}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Controller\AhjoApiController::getOrgChart'
  requirements:
    _entity_access: 'ahjo_organization.view'
  methods: [GET]
  options:
    parameters:
      ahjo_organization:
        type: entity:ahjo_organization

policymaker.org_composition:
  path: 'ahjo_api/org_composition/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::orgComposition'
  requirements:
    _access: 'TRUE'

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
policymaker.documents.fi:
  path: 'paattajat/{organization}/asiakirjat'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::documents'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDocumentsTitle'
  requirements:
    _access: 'TRUE'

policymaker.documents.sv:
  path: 'beslutsfattare/{organization}/dokumenter'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::documents'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDocumentsTitle'
  requirements:
    _access: 'TRUE'

policymaker.documents.en:
  path: 'decisionmakers/{organization}/documents'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::documents'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDocumentsTitle'
  requirements:
    _access: 'TRUE'

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
policymaker.decisions.fi:
  path: 'paattajat/{organization}/paatokset'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::decisions'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDecisionsTitle'
  requirements:
    _access: 'TRUE'

policymaker.decisions.sv:
  path: 'beslutsfattare/{organization}/beslut'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::decisions'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDecisionsTitle'
  requirements:
    _access: 'TRUE'

policymaker.decisions.en:
  path: 'decisionmakers/{organization}/decisions'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::decisions'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDecisionsTitle'
  requirements:
    _access: 'TRUE'

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
policymaker.discussion_minutes.fi:
  path: 'paattajat/{organization}/keskustelupoytakirjat'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::discussionMinutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDiscussionMinutesTitle'
  requirements:
    _access: 'TRUE'

policymaker.discussion_minutes.sv:
  path: 'beslutsfattare/{organization}/diskussionsprotokoll'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::discussionMinutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDiscussionMinutesTitle'
  requirements:
    _access: 'TRUE'

policymaker.discussion_minutes.en:
  path: 'decisionmakers/{organization}/discussion-minutes'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::discussionMinutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getDiscussionMinutesTitle'
  requirements:
    _access: 'TRUE'

# @todo UHF-11726: To simplify the URL handling, these should be replaced with path processors
# See: \Drupal\paatokset_ahjo_api\Policymakers\PathProcessor
policymaker.minutes.fi:
  path: 'paattajat/{organization}/asiakirjat/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::minutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getMinutesTitle'
  requirements:
    _access: 'TRUE'

policymaker.minutes.sv:
  path: 'beslutsfattare/{organization}/dokumenter/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::minutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getMinutesTitle'
  requirements:
    _access: 'TRUE'

policymaker.minutes.en:
  path: 'decisionmakers/{organization}/documents/{id}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::minutes'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\PolicymakerController::getMinutesTitle'
  requirements:
    _access: 'TRUE'

paatokset_ahjo_openid.index:
  path: '/admin/ahjo-open-id'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\AhjoOpenId\Controller\AhjoOpenIdController::index'
  requirements:
    _permission: 'administer ahjo openid'
  options:
    no_cache: TRUE

paatokset_ahjo_openid.callback:
  path: '/ahjo-api/login'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\AhjoOpenId\Controller\AhjoOpenIdController::callback'
  requirements:
    _permission: 'administer ahjo openid'
  options:
    no_cache: TRUE
    _admin_theme: 'TRUE'

paatokset_ahjo_openid.token:
  path: '/admin/ahjo-open-id/token'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\AhjoOpenId\Controller\AhjoOpenIdController::getToken'
  requirements:
    _permission: 'access ahjo openid token'
  options:
    _auth: ['cookie', 'key_auth']
    no_cache: TRUE

paatokset_ahjo_api.browse_policymakers:
  path: '/decisionmakers/browse-decisionmakers/{org}'
  defaults:
    _controller: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\BrowseController::build'
    _title_callback: '\Drupal\paatokset_ahjo_api\Policymakers\Controller\BrowseController::title'
    org: ~
  requirements:
    _permission: 'access content'
  options:
    parameters:
      org:
        type: entity:ahjo_organization

route_callbacks:
  - '\Drupal\paatokset_ahjo_api\AhjoProxy\Routing\RouteProvider::routes'
