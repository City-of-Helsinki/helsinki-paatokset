langcode: en
status: true
dependencies:
  enforced:
    module:
      - paatokset_ahjo
id: paatokset_meetings
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - ahjo
migration_group: ahjo
label: 'Päätökset - Meeting'
source:
  plugin: paatokset_open_ahjo
  url: 'https://dev.hel.fi:443/paatokset/v1/meeting/?limit=100&orderby=-date'
  limit_pages: 10
  track_changes: true
process:
  id: id
  policymaker:
    plugin: substr
    source: policymaker_name
    start: 0
    length: 255
  meeting_date:
    plugin: substr
    source: date
    start: 0
    lenght: 255
  langcode:
    plugin: default_value
    default_value: fi
  formatted_date:
    plugin: format_date
    source: date
    from_format: 'Y-m-d'
    to_format: 'd.m.Y'
  display_name:
    plugin: concat
    source:
      - policymaker_name
      - '@formatted_date'
    delimiter: ' - '
  policymaker_uri:
    plugin: substr
    source: policymaker
    start: 0
    length: 255
  number: number
destination:
  plugin: 'entity:paatokset_meeting'
migration_dependencies: {  }
